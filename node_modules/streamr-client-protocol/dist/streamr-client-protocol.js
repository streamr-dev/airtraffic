(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("streamr-client-protocol", [], factory);
	else if(typeof exports === 'object')
		exports["Protocol"] = factory();
	else
		root["Protocol"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 12);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _UnsupportedVersionError = __webpack_require__(4);

var _UnsupportedVersionError2 = _interopRequireDefault(_UnsupportedVersionError);

var _ValidationError = __webpack_require__(1);

var _ValidationError2 = _interopRequireDefault(_ValidationError);

var _ParseUtil = __webpack_require__(3);

var _ParseUtil2 = _interopRequireDefault(_ParseUtil);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var messageClassByMessageType = {};

module.exports = function () {
    function WebsocketResponse(messageType, payload, subId) {
        _classCallCheck(this, WebsocketResponse);

        this.messageType = messageType;
        this.payload = payload;
        this.subId = subId;

        var messageClass = messageClassByMessageType[messageType];
        if (!(payload instanceof messageClass.getPayloadClass())) {
            throw new _ValidationError2.default('An unexpected payload was passed to ' + messageClass.getMessageName() + '! Expected: ' + messageClass.getPayloadClass().name + ', was: ' + payload.constructor.name);
        }
    }

    _createClass(WebsocketResponse, [{
        key: 'toObject',
        value: function toObject() {
            var version = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
            var payloadVersion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 28;

            if (version === 0) {
                return [version, this.messageType, this.subId, this.payload.toObject(payloadVersion)];
            }
            throw (0, _UnsupportedVersionError2.default)(version, 'Supported versions: [0]');
        }
    }, {
        key: 'serialize',
        value: function serialize() {
            var version = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
            var payloadVersion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 28;

            return JSON.stringify(this.toObject(version, payloadVersion));
        }
    }], [{
        key: 'getPayloadClass',
        value: function getPayloadClass() {
            throw new Error('Abstract method called - please override in subclass!');
        }
    }, {
        key: 'getMessageName',
        value: function getMessageName() {
            throw new Error('Abstract method called - please override in subclass!');
        }
    }, {
        key: 'checkVersion',
        value: function checkVersion(message) {
            if (message[0] !== 0) {
                throw (0, _UnsupportedVersionError2.default)(message[0], 'Supported versions: [0]');
            }
        }
    }, {
        key: 'deserialize',
        value: function deserialize(stringOrArray) {
            var message = _ParseUtil2.default.ensureParsed(stringOrArray);
            this.checkVersion(message);
            var deserializedPayload = messageClassByMessageType[message[1]].getPayloadClass().deserialize(message[3]);
            var constructorArgs = messageClassByMessageType[message[1]].getConstructorArguments(message, deserializedPayload);
            return new (Function.prototype.bind.apply(messageClassByMessageType[message[1]], [null].concat(_toConsumableArray(constructorArgs))))();
        }

        // Need to register subclasses like this to avoid circular dependencies

    }, {
        key: 'registerMessageClass',
        value: function registerMessageClass(clazz, messageType) {
            messageClassByMessageType[messageType] = clazz;
        }
    }]);

    return WebsocketResponse;
}();

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _extendableBuiltin(cls) {
  function ExtendableBuiltin() {
    var instance = Reflect.construct(cls, Array.from(arguments));
    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));
    return instance;
  }

  ExtendableBuiltin.prototype = Object.create(cls.prototype, {
    constructor: {
      value: cls,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });

  if (Object.setPrototypeOf) {
    Object.setPrototypeOf(ExtendableBuiltin, cls);
  } else {
    ExtendableBuiltin.__proto__ = cls;
  }

  return ExtendableBuiltin;
}

module.exports = function (_extendableBuiltin2) {
  _inherits(ValidationError, _extendableBuiltin2);

  function ValidationError() {
    _classCallCheck(this, ValidationError);

    return _possibleConstructorReturn(this, (ValidationError.__proto__ || Object.getPrototypeOf(ValidationError)).apply(this, arguments));
  }

  return ValidationError;
}(_extendableBuiltin(Error));

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ValidationError = __webpack_require__(1);

var _ValidationError2 = _interopRequireDefault(_ValidationError);

var _ParseUtil = __webpack_require__(3);

var _ParseUtil2 = _interopRequireDefault(_ParseUtil);

var _UnsupportedVersionError = __webpack_require__(4);

var _UnsupportedVersionError2 = _interopRequireDefault(_UnsupportedVersionError);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var messageClassByMessageType = {};

var WebsocketRequest = function () {
    function WebsocketRequest(type, streamId, apiKey, sessionToken) {
        _classCallCheck(this, WebsocketRequest);

        if (!streamId) {
            throw new _ValidationError2.default('No stream ID given!');
        }
        if (!type) {
            throw new _ValidationError2.default('No message type given!');
        }

        this.type = type;
        this.streamId = streamId;
        this.apiKey = apiKey;
        this.sessionToken = sessionToken;
    }

    _createClass(WebsocketRequest, [{
        key: 'toObject',
        value: function toObject() {
            return {
                type: this.type,
                stream: this.streamId,
                authKey: this.apiKey,
                sessionToken: this.sessionToken
            };
        }
    }, {
        key: 'serialize',
        value: function serialize() {
            return JSON.stringify(this.toObject());
        }
    }], [{
        key: 'checkVersion',
        value: function checkVersion(message) {
            var version = message.version || 0;
            if (version !== 0) {
                throw (0, _UnsupportedVersionError2.default)(version, 'Supported versions: [0]');
            }
        }
    }, {
        key: 'deserialize',
        value: function deserialize(stringOrObject) {
            var message = _ParseUtil2.default.ensureParsed(stringOrObject);
            this.checkVersion(message);
            var constructorArgs = messageClassByMessageType[message.type].getConstructorArguments(message);
            return new (Function.prototype.bind.apply(messageClassByMessageType[message.type], [null].concat(_toConsumableArray(constructorArgs))))();
        }

        // Need to register subclasses like this to avoid circular dependencies

    }, {
        key: 'registerMessageClass',
        value: function registerMessageClass(clazz, messageType) {
            messageClassByMessageType[messageType] = clazz;
        }
    }]);

    return WebsocketRequest;
}();

exports.default = WebsocketRequest;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
    ensureParsed: function ensureParsed(stringOrObject) {
        return typeof stringOrObject === 'string' ? JSON.parse(stringOrObject) : stringOrObject;
    }
};

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _extendableBuiltin(cls) {
    function ExtendableBuiltin() {
        var instance = Reflect.construct(cls, Array.from(arguments));
        Object.setPrototypeOf(instance, Object.getPrototypeOf(this));
        return instance;
    }

    ExtendableBuiltin.prototype = Object.create(cls.prototype, {
        constructor: {
            value: cls,
            enumerable: false,
            writable: true,
            configurable: true
        }
    });

    if (Object.setPrototypeOf) {
        Object.setPrototypeOf(ExtendableBuiltin, cls);
    } else {
        ExtendableBuiltin.__proto__ = cls;
    }

    return ExtendableBuiltin;
}

module.exports = function (_extendableBuiltin2) {
    _inherits(UnsupportedVersionError, _extendableBuiltin2);

    function UnsupportedVersionError(version, message) {
        _classCallCheck(this, UnsupportedVersionError);

        var _this = _possibleConstructorReturn(this, (UnsupportedVersionError.__proto__ || Object.getPrototypeOf(UnsupportedVersionError)).call(this, "Unsupported version: " + version + ", message: " + message));

        _this.version = version;
        _this.message = message;
        return _this;
    }

    return UnsupportedVersionError;
}(_extendableBuiltin(Error));

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ParseUtil = __webpack_require__(3);

var _ParseUtil2 = _interopRequireDefault(_ParseUtil);

var _ValidationError = __webpack_require__(1);

var _ValidationError2 = _interopRequireDefault(_ValidationError);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StreamAndPartition = function () {
    function StreamAndPartition(streamId) {
        var streamPartition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

        _classCallCheck(this, StreamAndPartition);

        if (!streamId) {
            throw new _ValidationError2.default('Stream ID not given!');
        }
        if (!streamPartition == null) {
            throw new _ValidationError2.default('Stream partition not given!');
        }

        this.streamId = streamId;
        this.streamPartition = streamPartition;
    }

    _createClass(StreamAndPartition, [{
        key: 'toObject',
        value: function toObject() {
            return {
                stream: this.streamId,
                partition: this.streamPartition
            };
        }
    }, {
        key: 'serialize',
        value: function serialize() {
            return JSON.stringify(this.toObject());
        }
    }], [{
        key: 'objectToConstructorArgs',
        value: function objectToConstructorArgs(msg) {
            return [msg.stream, msg.partition];
        }
    }, {
        key: 'deserialize',
        value: function deserialize(stringOrObject) {
            var msg = _ParseUtil2.default.ensureParsed(stringOrObject);

            // calling this.prototype.constructor instead of new StreamAndPartition(...) works for subclasses too
            return new (Function.prototype.bind.apply(this.prototype.constructor, [null].concat(_toConsumableArray(this.objectToConstructorArgs(msg)))))();
        }
    }]);

    return StreamAndPartition;
}();

module.exports = StreamAndPartition;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _InvalidJsonError = __webpack_require__(8);

var _InvalidJsonError2 = _interopRequireDefault(_InvalidJsonError);

var _UnsupportedVersionError = __webpack_require__(4);

var _UnsupportedVersionError2 = _interopRequireDefault(_UnsupportedVersionError);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BYE_KEY = '_bye';

var StreamMessage = function () {
    function StreamMessage(streamId, streamPartition, timestamp, ttl, offset, previousOffset, contentType, content, signatureType, publisherAddress, signature) {
        _classCallCheck(this, StreamMessage);

        this.streamId = streamId;
        this.streamPartition = streamPartition;
        this.timestamp = timestamp;
        this.ttl = ttl;
        this.offset = offset;
        this.previousOffset = previousOffset;
        this.contentType = contentType;
        this.content = content;
        this.signatureType = signatureType;
        this.publisherAddress = publisherAddress;
        this.signature = signature;
    }

    _createClass(StreamMessage, [{
        key: 'getParsedContent',
        value: function getParsedContent() {
            if (this.parsedContent !== undefined) {
                return this.parsedContent;
            } else if (this.contentType === StreamMessage.CONTENT_TYPES.JSON && _typeof(this.content) === 'object') {
                this.parsedContent = this.content;
            } else if (this.contentType === StreamMessage.CONTENT_TYPES.JSON && typeof this.content === 'string') {
                try {
                    this.parsedContent = JSON.parse(this.content);
                } catch (err) {
                    throw new _InvalidJsonError2.default(this.streamId, this.content, err, this);
                }
            } else {
                throw new Error('Unsupported content type: ' + this.contentType);
            }

            return this.parsedContent;
        }
    }, {
        key: 'getSerializedContent',
        value: function getSerializedContent() {
            if (typeof this.content === 'string') {
                return this.content;
            } else if (this.contentType === StreamMessage.CONTENT_TYPES.JSON && _typeof(this.content) === 'object') {
                return JSON.stringify(this.content);
            } else if (this.contentType === StreamMessage.CONTENT_TYPES.JSON) {
                throw new Error('Stream payloads can only be objects!');
            } else {
                throw new Error('Unsupported content type: ' + this.contentType);
            }
        }
    }, {
        key: 'toObject',
        value: function toObject() {
            var version = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 28;
            var parsedContent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
            var compact = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

            if (version === 28 || version === 29) {
                if (compact) {
                    var arr = [version, this.streamId, this.streamPartition, this.timestamp, this.ttl, this.offset, this.previousOffset, this.contentType, parsedContent ? this.getParsedContent() : this.getSerializedContent()];
                    if (version === 29) {
                        arr.push(this.signatureType, this.publisherAddress, this.signature);
                    }
                    return arr;
                }
                var obj = {
                    streamId: this.streamId,
                    streamPartition: this.streamPartition,
                    timestamp: this.timestamp,
                    ttl: this.ttl,
                    offset: this.offset,
                    previousOffset: this.previousOffset,
                    contentType: this.contentType,
                    content: parsedContent ? this.getParsedContent() : this.getSerializedContent()
                };
                if (version === 29) {
                    obj.signatureType = this.signatureType;
                    obj.publisherAddress = this.publisherAddress;
                    obj.signature = this.signature;
                }
                return obj;
            }
            throw new _UnsupportedVersionError2.default(version, 'Supported versions: [28, 29]');
        }
    }, {
        key: 'serialize',
        value: function serialize() {
            var version = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 28;

            return JSON.stringify(this.toObject(version));
        }
    }, {
        key: 'isByeMessage',
        value: function isByeMessage() {
            return !!this.getParsedContent()[BYE_KEY];
        }
    }], [{
        key: 'deserialize',
        value: function deserialize(stringOrArray) {
            var parseContent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

            var message = typeof stringOrArray === 'string' ? JSON.parse(stringOrArray) : stringOrArray;

            /**
             * Version 28: [version, streamId, streamPartition, timestamp, ttl, offset, previousOffset, contentType, content]
             * Version 29: [version, streamId, streamPartition, timestamp, ttl, offset, previousOffset, contentType, content,
             * signatureType, address, signature]
             */
            if (message[0] === 28 || message[0] === 29) {
                var result = new (Function.prototype.bind.apply(this.prototype.constructor, [null].concat(_toConsumableArray(message.slice(1)))))();

                // Ensure that the content parses
                if (parseContent) {
                    result.getParsedContent();
                }
                return result;
            }
            throw new _UnsupportedVersionError2.default(message[0], 'Supported versions: [28, 29]');
        }
    }]);

    return StreamMessage;
}();

StreamMessage.CONTENT_TYPES = {
    JSON: 27
};

module.exports = StreamMessage;

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ResendResponsePayload = __webpack_require__(11);

var _ResendResponsePayload2 = _interopRequireDefault(_ResendResponsePayload);

var _WebsocketResponse2 = __webpack_require__(0);

var _WebsocketResponse3 = _interopRequireDefault(_WebsocketResponse2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ResendResponse = function (_WebsocketResponse) {
    _inherits(ResendResponse, _WebsocketResponse);

    function ResendResponse(TYPE, streamId, streamPartition, subId) {
        _classCallCheck(this, ResendResponse);

        return _possibleConstructorReturn(this, (ResendResponse.__proto__ || Object.getPrototypeOf(ResendResponse)).call(this, TYPE, new _ResendResponsePayload2.default(streamId, streamPartition, subId)));
    }

    _createClass(ResendResponse, null, [{
        key: 'getPayloadClass',
        value: function getPayloadClass() {
            return _ResendResponsePayload2.default;
        }
        // Subclasses must have a constructor of this form

    }, {
        key: 'getConstructorArguments',
        value: function getConstructorArguments(serializedMessage, payload) {
            return [payload.streamId, payload.streamPartition, payload.subId];
        }
    }]);

    return ResendResponse;
}(_WebsocketResponse3.default);

exports.default = ResendResponse;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _extendableBuiltin(cls) {
    function ExtendableBuiltin() {
        var instance = Reflect.construct(cls, Array.from(arguments));
        Object.setPrototypeOf(instance, Object.getPrototypeOf(this));
        return instance;
    }

    ExtendableBuiltin.prototype = Object.create(cls.prototype, {
        constructor: {
            value: cls,
            enumerable: false,
            writable: true,
            configurable: true
        }
    });

    if (Object.setPrototypeOf) {
        Object.setPrototypeOf(ExtendableBuiltin, cls);
    } else {
        ExtendableBuiltin.__proto__ = cls;
    }

    return ExtendableBuiltin;
}

module.exports = function (_extendableBuiltin2) {
    _inherits(InvalidJsonError, _extendableBuiltin2);

    function InvalidJsonError(streamId, jsonString, parseError, streamMessage) {
        _classCallCheck(this, InvalidJsonError);

        var _this = _possibleConstructorReturn(this, (InvalidJsonError.__proto__ || Object.getPrototypeOf(InvalidJsonError)).call(this, "Invalid JSON in stream " + streamId + ": " + jsonString + ". Error while parsing was: " + parseError));

        _this.streamId = streamId;
        _this.jsonString = jsonString;
        _this.parseError = parseError;
        _this.streamMessage = streamMessage;
        return _this;
    }

    return InvalidJsonError;
}(_extendableBuiltin(Error));

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
    parse: function parse(millisOrString) {
        if (typeof millisOrString === 'number') {
            return millisOrString;
        } else if (typeof millisOrString === 'string') {
            // Try if this string represents a number
            var timestamp = Number(millisOrString) || Date.parse(millisOrString);
            if (Number.isNaN(timestamp)) {
                throw new Error('Invalid timestamp: ' + millisOrString);
            } else {
                return timestamp;
            }
        } else {
            throw new Error('Invalid timestamp: ' + millisOrString);
        }
    }
};

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ParseUtil = __webpack_require__(3);

var _ParseUtil2 = _interopRequireDefault(_ParseUtil);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

module.exports = function () {
    function ErrorPayload(errorString) {
        _classCallCheck(this, ErrorPayload);

        this.error = errorString;
    }

    _createClass(ErrorPayload, [{
        key: 'toObject',
        value: function toObject() {
            return {
                error: this.error
            };
        }
    }], [{
        key: 'deserialize',
        value: function deserialize(stringOrObject) {
            var msg = _ParseUtil2.default.ensureParsed(stringOrObject);
            if (!msg.error) {
                throw new Error('Invalid error payload received: ' + JSON.stringify(msg));
            }
            return new ErrorPayload(msg.error);
        }
    }]);

    return ErrorPayload;
}();

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _StreamAndPartition2 = __webpack_require__(5);

var _StreamAndPartition3 = _interopRequireDefault(_StreamAndPartition2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

module.exports = function (_StreamAndPartition) {
    _inherits(ResendResponsePayload, _StreamAndPartition);

    function ResendResponsePayload(streamId, streamPartition, subId) {
        _classCallCheck(this, ResendResponsePayload);

        var _this = _possibleConstructorReturn(this, (ResendResponsePayload.__proto__ || Object.getPrototypeOf(ResendResponsePayload)).call(this, streamId, streamPartition));

        if (subId == null) {
            throw new Error('Subscription id cannot be null!');
        }
        _this.subId = subId;
        return _this;
    }

    _createClass(ResendResponsePayload, [{
        key: 'toObject',
        value: function toObject() {
            return _extends({}, _get(ResendResponsePayload.prototype.__proto__ || Object.getPrototypeOf(ResendResponsePayload.prototype), 'toObject', this).call(this), {
                sub: this.subId
            });
        }
    }], [{
        key: 'objectToConstructorArgs',
        value: function objectToConstructorArgs(msg) {
            return [msg.stream, msg.partition, msg.sub];
        }
    }]);

    return ResendResponsePayload;
}(_StreamAndPartition3.default);

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _WebsocketRequest = __webpack_require__(2);

var _WebsocketRequest2 = _interopRequireDefault(_WebsocketRequest);

var _WebsocketResponse = __webpack_require__(0);

var _WebsocketResponse2 = _interopRequireDefault(_WebsocketResponse);

var _StreamMessage = __webpack_require__(6);

var _StreamMessage2 = _interopRequireDefault(_StreamMessage);

var _BroadcastMessage = __webpack_require__(13);

var _BroadcastMessage2 = _interopRequireDefault(_BroadcastMessage);

var _UnicastMessage = __webpack_require__(14);

var _UnicastMessage2 = _interopRequireDefault(_UnicastMessage);

var _PublishRequest = __webpack_require__(15);

var _PublishRequest2 = _interopRequireDefault(_PublishRequest);

var _ErrorResponse = __webpack_require__(16);

var _ErrorResponse2 = _interopRequireDefault(_ErrorResponse);

var _ErrorPayload = __webpack_require__(10);

var _ErrorPayload2 = _interopRequireDefault(_ErrorPayload);

var _ResendRequest = __webpack_require__(17);

var _ResendRequest2 = _interopRequireDefault(_ResendRequest);

var _ResendResponseNoResend = __webpack_require__(18);

var _ResendResponseNoResend2 = _interopRequireDefault(_ResendResponseNoResend);

var _ResendResponseResending = __webpack_require__(19);

var _ResendResponseResending2 = _interopRequireDefault(_ResendResponseResending);

var _ResendResponseResent = __webpack_require__(20);

var _ResendResponseResent2 = _interopRequireDefault(_ResendResponseResent);

var _SubscribeRequest = __webpack_require__(21);

var _SubscribeRequest2 = _interopRequireDefault(_SubscribeRequest);

var _SubscribeResponse = __webpack_require__(22);

var _SubscribeResponse2 = _interopRequireDefault(_SubscribeResponse);

var _UnsubscribeRequest = __webpack_require__(23);

var _UnsubscribeRequest2 = _interopRequireDefault(_UnsubscribeRequest);

var _UnsubscribeResponse = __webpack_require__(24);

var _UnsubscribeResponse2 = _interopRequireDefault(_UnsubscribeResponse);

var _StreamAndPartition = __webpack_require__(5);

var _StreamAndPartition2 = _interopRequireDefault(_StreamAndPartition);

var _ResendResponsePayload = __webpack_require__(11);

var _ResendResponsePayload2 = _interopRequireDefault(_ResendResponsePayload);

var _InvalidJsonError = __webpack_require__(8);

var _InvalidJsonError2 = _interopRequireDefault(_InvalidJsonError);

var _UnsupportedVersionError = __webpack_require__(4);

var _UnsupportedVersionError2 = _interopRequireDefault(_UnsupportedVersionError);

var _TimestampUtil = __webpack_require__(9);

var _TimestampUtil2 = _interopRequireDefault(_TimestampUtil);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = {
    WebsocketRequest: _WebsocketRequest2.default,
    WebsocketResponse: _WebsocketResponse2.default,
    StreamMessage: _StreamMessage2.default,
    BroadcastMessage: _BroadcastMessage2.default,
    UnicastMessage: _UnicastMessage2.default,
    PublishRequest: _PublishRequest2.default,
    ErrorResponse: _ErrorResponse2.default,
    ErrorPayload: _ErrorPayload2.default,
    ResendRequest: _ResendRequest2.default,
    ResendResponseNoResend: _ResendResponseNoResend2.default,
    ResendResponseResending: _ResendResponseResending2.default,
    ResendResponseResent: _ResendResponseResent2.default,
    ResendResponsePayload: _ResendResponsePayload2.default,
    SubscribeRequest: _SubscribeRequest2.default,
    SubscribeResponse: _SubscribeResponse2.default,
    UnsubscribeRequest: _UnsubscribeRequest2.default,
    UnsubscribeResponse: _UnsubscribeResponse2.default,
    StreamAndPartition: _StreamAndPartition2.default,
    Errors: {
        InvalidJsonError: _InvalidJsonError2.default,
        UnsupportedVersionError: _UnsupportedVersionError2.default
    },
    Utils: {
        TimestampUtil: _TimestampUtil2.default
    }
};

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _WebsocketResponse2 = __webpack_require__(0);

var _WebsocketResponse3 = _interopRequireDefault(_WebsocketResponse2);

var _StreamMessage = __webpack_require__(6);

var _StreamMessage2 = _interopRequireDefault(_StreamMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 0;

var BroadcastMessage = function (_WebsocketResponse) {
    _inherits(BroadcastMessage, _WebsocketResponse);

    function BroadcastMessage(streamMessage) {
        _classCallCheck(this, BroadcastMessage);

        return _possibleConstructorReturn(this, (BroadcastMessage.__proto__ || Object.getPrototypeOf(BroadcastMessage)).call(this, TYPE, streamMessage));
    }

    _createClass(BroadcastMessage, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'BroadcastMessage';
        }
    }, {
        key: 'getPayloadClass',
        value: function getPayloadClass() {
            return _StreamMessage2.default;
        }
    }, {
        key: 'getConstructorArguments',
        value: function getConstructorArguments(message, payload) {
            return [payload];
        }
    }]);

    return BroadcastMessage;
}(_WebsocketResponse3.default);

_WebsocketResponse3.default.registerMessageClass(BroadcastMessage, TYPE);
module.exports = BroadcastMessage;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _WebsocketResponse2 = __webpack_require__(0);

var _WebsocketResponse3 = _interopRequireDefault(_WebsocketResponse2);

var _StreamMessage = __webpack_require__(6);

var _StreamMessage2 = _interopRequireDefault(_StreamMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 1;

var UnicastMessage = function (_WebsocketResponse) {
    _inherits(UnicastMessage, _WebsocketResponse);

    function UnicastMessage(streamMessage, subId) {
        _classCallCheck(this, UnicastMessage);

        return _possibleConstructorReturn(this, (UnicastMessage.__proto__ || Object.getPrototypeOf(UnicastMessage)).call(this, TYPE, streamMessage, subId));
    }

    _createClass(UnicastMessage, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'UnicastMessage';
        }
    }, {
        key: 'getPayloadClass',
        value: function getPayloadClass() {
            return _StreamMessage2.default;
        }
    }, {
        key: 'getConstructorArguments',
        value: function getConstructorArguments(message, payload) {
            return [payload, message[2]]; // message[2] is subId
        }
    }]);

    return UnicastMessage;
}(_WebsocketResponse3.default);

_WebsocketResponse3.default.registerMessageClass(UnicastMessage, TYPE);
module.exports = UnicastMessage;

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _TimestampUtil = __webpack_require__(9);

var _TimestampUtil2 = _interopRequireDefault(_TimestampUtil);

var _ValidationError = __webpack_require__(1);

var _ValidationError2 = _interopRequireDefault(_ValidationError);

var _WebsocketRequest2 = __webpack_require__(2);

var _WebsocketRequest3 = _interopRequireDefault(_WebsocketRequest2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 'publish';

var PublishRequest = function (_WebsocketRequest) {
    _inherits(PublishRequest, _WebsocketRequest);

    function PublishRequest(streamId, apiKey, sessionToken, content, timestamp, partitionKey, publisherAddress, signatureType, signature) {
        _classCallCheck(this, PublishRequest);

        var _this = _possibleConstructorReturn(this, (PublishRequest.__proto__ || Object.getPrototypeOf(PublishRequest)).call(this, TYPE, streamId, apiKey, sessionToken));

        if (!content) {
            throw new _ValidationError2.default('No content given!');
        }
        _this.content = content;

        if (timestamp) {
            _this.timestamp = _TimestampUtil2.default.parse(timestamp);
        }

        _this.partitionKey = partitionKey;
        _this.publisherAddress = publisherAddress;
        _this.signatureType = signatureType;
        _this.signature = signature;
        return _this;
    }

    _createClass(PublishRequest, [{
        key: 'getTimestampAsNumber',
        value: function getTimestampAsNumber() {
            if (this.timestamp) {
                return _TimestampUtil2.default.parse(this.timestamp);
            }
            return undefined;
        }
    }, {
        key: 'getSerializedContent',
        value: function getSerializedContent() {
            if (typeof this.content === 'string') {
                return this.content;
            } else if (_typeof(this.content) === 'object') {
                return JSON.stringify(this.content);
            }
            throw new Error('Stream payloads can only be objects!');
        }
    }, {
        key: 'toObject',
        value: function toObject() {
            return _extends({}, _get(PublishRequest.prototype.__proto__ || Object.getPrototypeOf(PublishRequest.prototype), 'toObject', this).call(this), {
                msg: this.getSerializedContent(),
                ts: this.getTimestampAsNumber(),
                pkey: this.partitionKey,
                addr: this.publisherAddress,
                sigtype: this.signatureType,
                sig: this.signature
            });
        }
    }], [{
        key: 'getConstructorArguments',
        value: function getConstructorArguments(msg) {
            return [msg.stream, msg.authKey, msg.sessionToken, msg.msg, msg.ts, msg.pkey, msg.addr, msg.sigtype, msg.sig];
        }
    }]);

    return PublishRequest;
}(_WebsocketRequest3.default);

_WebsocketRequest3.default.registerMessageClass(PublishRequest, TYPE);
module.exports = PublishRequest;

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _WebsocketResponse2 = __webpack_require__(0);

var _WebsocketResponse3 = _interopRequireDefault(_WebsocketResponse2);

var _ErrorPayload = __webpack_require__(10);

var _ErrorPayload2 = _interopRequireDefault(_ErrorPayload);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 7;

var ErrorResponse = function (_WebsocketResponse) {
    _inherits(ErrorResponse, _WebsocketResponse);

    function ErrorResponse(errorMessage) {
        _classCallCheck(this, ErrorResponse);

        return _possibleConstructorReturn(this, (ErrorResponse.__proto__ || Object.getPrototypeOf(ErrorResponse)).call(this, TYPE, new _ErrorPayload2.default(errorMessage)));
    }

    _createClass(ErrorResponse, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'ErrorResponse';
        }
    }, {
        key: 'getPayloadClass',
        value: function getPayloadClass() {
            return _ErrorPayload2.default;
        }
    }, {
        key: 'getConstructorArguments',
        value: function getConstructorArguments(message, payload) {
            return [payload.error];
        }
    }]);

    return ErrorResponse;
}(_WebsocketResponse3.default);

_WebsocketResponse3.default.registerMessageClass(ErrorResponse, TYPE);
module.exports = ErrorResponse;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _ValidationError = __webpack_require__(1);

var _ValidationError2 = _interopRequireDefault(_ValidationError);

var _WebsocketRequest2 = __webpack_require__(2);

var _WebsocketRequest3 = _interopRequireDefault(_WebsocketRequest2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 'resend';

var ResendRequest = function (_WebsocketRequest) {
    _inherits(ResendRequest, _WebsocketRequest);

    function ResendRequest(streamId) {
        var streamPartition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var subId = arguments[2];
        var resendOptions = arguments[3];
        var apiKey = arguments[4];
        var sessionToken = arguments[5];

        _classCallCheck(this, ResendRequest);

        var _this = _possibleConstructorReturn(this, (ResendRequest.__proto__ || Object.getPrototypeOf(ResendRequest)).call(this, TYPE, streamId, apiKey, sessionToken));

        if (!resendOptions.resend_all && !resendOptions.resend_last && resendOptions.resend_from == null && resendOptions.resend_from_time == null) {
            throw new _ValidationError2.default('Invalid resend options!');
        }
        if (!subId) {
            throw new _ValidationError2.default('Subscription ID not given!');
        }

        _this.streamPartition = streamPartition;
        _this.subId = subId;
        _this.resendOptions = resendOptions;
        return _this;
    }

    _createClass(ResendRequest, [{
        key: 'toObject',
        value: function toObject() {
            return _extends({}, _get(ResendRequest.prototype.__proto__ || Object.getPrototypeOf(ResendRequest.prototype), 'toObject', this).call(this), {
                partition: this.streamPartition,
                sub: this.subId
            }, this.resendOptions);
        }
    }], [{
        key: 'getConstructorArguments',
        value: function getConstructorArguments(msg) {
            // Every property that starts with resend_ is a resend option
            var resendOptions = {};
            Object.keys(msg).forEach(function (key) {
                if (key.startsWith('resend_')) {
                    resendOptions[key] = msg[key];
                }
            });

            return [msg.stream, msg.partition, msg.sub, resendOptions, msg.authKey, msg.sessionToken];
        }
    }]);

    return ResendRequest;
}(_WebsocketRequest3.default);

_WebsocketRequest3.default.registerMessageClass(ResendRequest, TYPE);
module.exports = ResendRequest;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ResendResponse2 = __webpack_require__(7);

var _ResendResponse3 = _interopRequireDefault(_ResendResponse2);

var _WebsocketResponse = __webpack_require__(0);

var _WebsocketResponse2 = _interopRequireDefault(_WebsocketResponse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 6;

var ResendResponseNoResend = function (_ResendResponse) {
    _inherits(ResendResponseNoResend, _ResendResponse);

    function ResendResponseNoResend(streamId, streamPartition, subId) {
        _classCallCheck(this, ResendResponseNoResend);

        return _possibleConstructorReturn(this, (ResendResponseNoResend.__proto__ || Object.getPrototypeOf(ResendResponseNoResend)).call(this, TYPE, streamId, streamPartition, subId));
    }

    _createClass(ResendResponseNoResend, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'ResendResponseNoResend';
        }
    }]);

    return ResendResponseNoResend;
}(_ResendResponse3.default);

_WebsocketResponse2.default.registerMessageClass(ResendResponseNoResend, TYPE);
module.exports = ResendResponseNoResend;

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ResendResponse2 = __webpack_require__(7);

var _ResendResponse3 = _interopRequireDefault(_ResendResponse2);

var _WebsocketResponse = __webpack_require__(0);

var _WebsocketResponse2 = _interopRequireDefault(_WebsocketResponse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 4;

var ResendResponseResending = function (_ResendResponse) {
    _inherits(ResendResponseResending, _ResendResponse);

    function ResendResponseResending(streamId, streamPartition, subId) {
        _classCallCheck(this, ResendResponseResending);

        return _possibleConstructorReturn(this, (ResendResponseResending.__proto__ || Object.getPrototypeOf(ResendResponseResending)).call(this, TYPE, streamId, streamPartition, subId));
    }

    _createClass(ResendResponseResending, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'ResendResponseResending';
        }
    }]);

    return ResendResponseResending;
}(_ResendResponse3.default);

_WebsocketResponse2.default.registerMessageClass(ResendResponseResending, TYPE);
module.exports = ResendResponseResending;

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ResendResponse2 = __webpack_require__(7);

var _ResendResponse3 = _interopRequireDefault(_ResendResponse2);

var _WebsocketResponse = __webpack_require__(0);

var _WebsocketResponse2 = _interopRequireDefault(_WebsocketResponse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 5;

var ResendResponseResent = function (_ResendResponse) {
    _inherits(ResendResponseResent, _ResendResponse);

    function ResendResponseResent(streamId, streamPartition, subId) {
        _classCallCheck(this, ResendResponseResent);

        return _possibleConstructorReturn(this, (ResendResponseResent.__proto__ || Object.getPrototypeOf(ResendResponseResent)).call(this, TYPE, streamId, streamPartition, subId));
    }

    _createClass(ResendResponseResent, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'ResendResponseResent';
        }
    }]);

    return ResendResponseResent;
}(_ResendResponse3.default);

_WebsocketResponse2.default.registerMessageClass(ResendResponseResent, TYPE);
module.exports = ResendResponseResent;

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _ValidationError = __webpack_require__(1);

var _ValidationError2 = _interopRequireDefault(_ValidationError);

var _WebsocketRequest2 = __webpack_require__(2);

var _WebsocketRequest3 = _interopRequireDefault(_WebsocketRequest2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 'subscribe';

var SubscribeRequest = function (_WebsocketRequest) {
    _inherits(SubscribeRequest, _WebsocketRequest);

    function SubscribeRequest(streamId) {
        var streamPartition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var apiKey = arguments[2];
        var sessionToken = arguments[3];

        _classCallCheck(this, SubscribeRequest);

        var _this = _possibleConstructorReturn(this, (SubscribeRequest.__proto__ || Object.getPrototypeOf(SubscribeRequest)).call(this, TYPE, streamId, apiKey, sessionToken));

        if (streamPartition == null) {
            throw new _ValidationError2.default('Stream partition not given!');
        }

        _this.streamPartition = streamPartition;
        return _this;
    }

    _createClass(SubscribeRequest, [{
        key: 'toObject',
        value: function toObject() {
            return _extends({}, _get(SubscribeRequest.prototype.__proto__ || Object.getPrototypeOf(SubscribeRequest.prototype), 'toObject', this).call(this), {
                partition: this.streamPartition
            });
        }
    }], [{
        key: 'getConstructorArguments',
        value: function getConstructorArguments(msg) {
            return [msg.stream, msg.partition, msg.authKey, msg.sessionToken];
        }
    }]);

    return SubscribeRequest;
}(_WebsocketRequest3.default);

_WebsocketRequest3.default.registerMessageClass(SubscribeRequest, TYPE);
module.exports = SubscribeRequest;

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _WebsocketResponse2 = __webpack_require__(0);

var _WebsocketResponse3 = _interopRequireDefault(_WebsocketResponse2);

var _StreamAndPartition = __webpack_require__(5);

var _StreamAndPartition2 = _interopRequireDefault(_StreamAndPartition);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 2;

var SubscribeResponse = function (_WebsocketResponse) {
    _inherits(SubscribeResponse, _WebsocketResponse);

    function SubscribeResponse(streamId, streamPartition) {
        _classCallCheck(this, SubscribeResponse);

        return _possibleConstructorReturn(this, (SubscribeResponse.__proto__ || Object.getPrototypeOf(SubscribeResponse)).call(this, TYPE, new _StreamAndPartition2.default(streamId, streamPartition)));
    }

    _createClass(SubscribeResponse, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'SubscribeResponse';
        }
    }, {
        key: 'getPayloadClass',
        value: function getPayloadClass() {
            return _StreamAndPartition2.default;
        }
    }, {
        key: 'getConstructorArguments',
        value: function getConstructorArguments(message, payload) {
            return [payload.streamId, payload.streamPartition];
        }
    }]);

    return SubscribeResponse;
}(_WebsocketResponse3.default);

_WebsocketResponse3.default.registerMessageClass(SubscribeResponse, TYPE);
module.exports = SubscribeResponse;

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _ValidationError = __webpack_require__(1);

var _ValidationError2 = _interopRequireDefault(_ValidationError);

var _WebsocketRequest2 = __webpack_require__(2);

var _WebsocketRequest3 = _interopRequireDefault(_WebsocketRequest2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 'unsubscribe';

var UnsubscribeRequest = function (_WebsocketRequest) {
    _inherits(UnsubscribeRequest, _WebsocketRequest);

    function UnsubscribeRequest(streamId) {
        var streamPartition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

        _classCallCheck(this, UnsubscribeRequest);

        var _this = _possibleConstructorReturn(this, (UnsubscribeRequest.__proto__ || Object.getPrototypeOf(UnsubscribeRequest)).call(this, TYPE, streamId));

        if (streamPartition == null) {
            throw new _ValidationError2.default('Stream partition not given!');
        }

        _this.streamPartition = streamPartition;
        return _this;
    }

    _createClass(UnsubscribeRequest, [{
        key: 'toObject',
        value: function toObject() {
            return _extends({}, _get(UnsubscribeRequest.prototype.__proto__ || Object.getPrototypeOf(UnsubscribeRequest.prototype), 'toObject', this).call(this), {
                partition: this.streamPartition
            });
        }
    }], [{
        key: 'getConstructorArguments',
        value: function getConstructorArguments(msg) {
            return [msg.stream, msg.partition];
        }
    }]);

    return UnsubscribeRequest;
}(_WebsocketRequest3.default);

_WebsocketRequest3.default.registerMessageClass(UnsubscribeRequest, TYPE);
module.exports = UnsubscribeRequest;

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _StreamAndPartition = __webpack_require__(5);

var _StreamAndPartition2 = _interopRequireDefault(_StreamAndPartition);

var _WebsocketResponse2 = __webpack_require__(0);

var _WebsocketResponse3 = _interopRequireDefault(_WebsocketResponse2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TYPE = 3;

var UnsubscribeResponse = function (_WebsocketResponse) {
    _inherits(UnsubscribeResponse, _WebsocketResponse);

    function UnsubscribeResponse(streamId, streamPartition) {
        _classCallCheck(this, UnsubscribeResponse);

        return _possibleConstructorReturn(this, (UnsubscribeResponse.__proto__ || Object.getPrototypeOf(UnsubscribeResponse)).call(this, TYPE, new _StreamAndPartition2.default(streamId, streamPartition)));
    }

    _createClass(UnsubscribeResponse, null, [{
        key: 'getMessageName',
        value: function getMessageName() {
            return 'UnsubscribeResponse';
        }
    }, {
        key: 'getPayloadClass',
        value: function getPayloadClass() {
            return _StreamAndPartition2.default;
        }
    }, {
        key: 'getConstructorArguments',
        value: function getConstructorArguments(message, payload) {
            return [payload.streamId, payload.streamPartition];
        }
    }]);

    return UnsubscribeResponse;
}(_WebsocketResponse3.default);

_WebsocketResponse3.default.registerMessageClass(UnsubscribeResponse, TYPE);
module.exports = UnsubscribeResponse;

/***/ })
/******/ ]);
});
//# sourceMappingURL=streamr-client-protocol.js.map